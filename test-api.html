<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>LeanCloud API测试</title>
</head>
<body>
    <h1>LeanCloud API连接测试</h1>
    <div id="result">正在测试连接...</div>

    <script>
    // LeanCloud配置
    const APP_ID = '2ZmC6sqLRb9RZu5esRlf0Rtg-gzGzoHsz';
    const APP_KEY = '4MOhNRmTw2JsXaJTTr2BzjLc';
    const API_BASE = 'https://2zmc6sql.lc-cn-n1-shared.com';
    const CLASS_NAME = 'AccessRecord';

    async function testConnection() {
        const resultElement = document.getElementById('result');
        try {
            const response = await fetch(`${API_BASE}/1.1/classes/${CLASS_NAME}?limit=1`, {
                headers: {
                    'X-LC-Id': APP_ID,
                    'X-LC-Key': APP_KEY
                }
            });

            if (response.ok) {
                const data = await response.json();
                resultElement.innerHTML = `
                    <p style="color: green">连接成功！</p>
                    <p>响应状态码: ${response.status}</p>
                    <p>返回数据: ${JSON.stringify(data)}</p>
                `;
            } else {
                resultElement.innerHTML = `
                    <p style="color: red">连接失败！</p>
                    <p>响应状态码: ${response.status}</p>
                    <p>错误信息: ${await response.text()}</p>
                `;
            }
        } catch (error) {
            resultElement.innerHTML = `
                <p style="color: red">连接异常！</p>
                <p>错误信息: ${error.message}</p>
            `;
        }
    }

    // 页面加载时测试连接
    document.addEventListener('DOMContentLoaded', testConnection);
    </script>
</body>
</html> 